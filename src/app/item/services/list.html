
<div class="container mt-3">
    <div class="card w-100">
      <div class="card-header h5">
        Dynamic Form Data
      </div>
      <div class="card-body">
        <div class="justify-content-between">
          <form name="form" (ngSubmit)="f.form.valid && getFormFields()" #f="ngForm" novalidate>
            <div class="card-body">
                <div class="form-row">
                  <div class="form-group col-md-4">
                    <label for="contract-id">Contract Id </label>
                    <input type="text"
                           id="contract-id"
                           name="contract-id"
                           #contractId="ngModel"
                           [(ngModel)]="contractData.contractId"
                           required
                           class="form-control">
                  </div>

                  <div class="form-group col-md-4">
                    <label for="key">Key</label>
                    <input type="text"
                           id="key"
                           name="key"
                           #key="ngModel"
                           [(ngModel)]="contractData.key"
                           required
                           class="form-control">
                  </div>
                  
                  <div class="form-group col-md-2">
                    <label for="key">&nbsp;</label>
                    <button type="submit" class="form-control btn btn-success"> Submit </button>
                  </div>
                </div>
            </div>
          </form>
        </div>
        
      </div>
    </div>
    <br />
    <div class="col-sm-12 no-padding" *ngIf="this.fieldsInfo">
        <div class="card">
          <div class="card-header">Dynamic Forms</div>
          <br />
          <form (ngSubmit)="onSubmit.emit(this.form.value)" [formGroup]="form" class="form-horizontal">
            <div *ngFor="let field of jsonData; let index = index" class="col-sm-12">
                <div class="form-group row">
                  <label class="col-md-3 form-control-label" for="field.label"> {{ field.label }}
                  </label>
                  <div class="col-md-6" >
                      <input class="form-control"  id="field.name" [value]="field.value" name="field.label">
                  </div>
                </div>
            </div>
          </form>
          <!-- div class="card-body">
            <dynamic-form-builder [fields]="this.fieldsInfo"></dynamic-form-builder>
          </div -->
        </div>
      </div>
      
      <div class="col-sm-12 no-padding" *ngIf="this.fieldsInfo">
       <div class="form-group" [formGroup]="form">
          <label>JSON</label>
          <textarea formControlName="fields" class="form-control" rows="3"></textarea>
        </div>
      </div>
  </div>
